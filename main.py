import os

from cryptography.fernet import Fernet


def encrypt_file(file_path, key):
    with open(file_path, "rb") as file:
        plaintext = file.read()

    fernet = Fernet(key)
    encrypted_data = fernet.encrypt(plaintext)

    with open(file_path, "wb") as file:
        file.write(encrypted_data)


def encrypt_files_in_directory(directory_path, key):
    for root, dirs, files in os.walk(directory_path):
        for file_name in files:
            file_path = os.path.join(root, file_name)
            encrypt_file(file_path, key)


if __name__ == "__main__":
    main_folder = "/path/to/main/folder"
    key = b"your_encryption_key"

    os.chdir(main_folder)
    encrypt_files_in_directory(main_folder, key)
